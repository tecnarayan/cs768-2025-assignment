Learning Optimal Tree Models Under Beam Search