Analysis and Design of Thompson Sampling for Stochastic Partial Monitoring