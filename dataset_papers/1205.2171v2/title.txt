A Generalized Kernel Approach to Structured Output Learning