Generalisation error in learning with random features and the hidden manifold model