Computing Optimal Equilibria and Mechanisms via Learning in Zero-Sum Extensive-Form Games