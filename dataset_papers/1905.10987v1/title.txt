Learning to Route in Similarity Graphs