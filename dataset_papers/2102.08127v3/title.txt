Learning curves of generic features maps for realistic datasets with a teacher-student model