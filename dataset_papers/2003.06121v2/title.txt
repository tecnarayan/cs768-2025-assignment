When are Non-Parametric Methods Robust?